#!/usr/bin/env python3
"""Smart CLI Standalone Launcher - Works from any directory"""

import sys
import os

# Store current working directory
ORIGINAL_CWD = os.getcwd()

# Get Smart CLI installation directory - resolve symlinks
SCRIPT_PATH = os.path.realpath(__file__)
SCRIPT_DIR = os.path.dirname(SCRIPT_PATH)
SRC_DIR = os.path.join(SCRIPT_DIR, 'src')

# Add to Python path
sys.path.insert(0, SRC_DIR)

# Set environment variable to remember original directory
os.environ['SMART_CLI_ORIGINAL_CWD'] = ORIGINAL_CWD

# Change to src directory temporarily for imports
old_cwd = os.getcwd()
os.chdir(SRC_DIR)

try:
    # Import and run CLI
    from cli import app
    
    # Change back to original directory before running
    os.chdir(ORIGINAL_CWD)
    
    # Run the CLI
    app()
finally:
    # Ensure we're back in original directory
    if os.getcwd() != ORIGINAL_CWD:
        os.chdir(ORIGINAL_CWD)